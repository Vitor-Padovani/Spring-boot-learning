<!doctype html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Meu Gerenciador de Tarefas</title>
  </head>
  <body>
    <h1>Minhas Listas de Tarefas</h1>
    <div id="listas-container">Carregando listas...</div>

    <script>
      // Função para buscar as listas do Backend Spring
      async function carregarListas() {
        try {
          const response = await fetch("/task-lists"); // Chama o endpoint GET
          const listas = await response.json();

          const container = document.getElementById("listas-container");
          container.innerHTML = ""; // Limpa o carregando

          listas.forEach((lista) => {
            const div = document.createElement("div");
            div.innerHTML = `<h3>${lista.title}</h3><p>${lista.description}</p><hr>`;
            container.appendChild(div);
          });
        } catch (error) {
          console.error("Erro ao buscar listas:", error);
        }
      }

      // Executa ao abrir a página
      carregarListas();
    </script>
  </body>
</html>
